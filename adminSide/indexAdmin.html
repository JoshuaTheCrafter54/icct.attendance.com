<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Admin Dashboard</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="asset/css/adminStyle.css"> <!-- CSS FOR ADMINS -->
    <link rel="stylesheet" href="asset/css/global.css"> <!-- GLOBAL CSS -->
</head>
<header>
    <div class="adminProfile">
        <img src="asset/img/profile.png" alt="admin profile">
        <h3>Hello Admin, <span>Joshua!</span></h3>
    </div>
    <nav>
        <ul>
            <li><a href="#dashboard" onclick="loadSection('dashboard', this)"><i class="fas fa-chart-line"></i> Dashboard</a></li>
            <li><a href="#user" onclick="loadSection('user', this)"><i class="fas fa-users"></i> User Management</a></li>
            <li><a href="#events" onclick="loadSection('events', this)"><i class="fas fa-calendar-alt"></i> Events</a></li>
            <li><a href="#attendance" onclick="loadSection('attendance', this)"><i class="fas fa-qrcode"></i> Scan Attendance</a></li>
            <li><a href="#reports" onclick="loadSection('reports', this)"><i class="fas fa-chart-bar"></i> Reports</a></li>
        </ul>
    </nav>
    <div>
        <button class="logout-btn" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
    </div>
</header>
<body>
    <div class="content-container">

        <!-- Dashboard -->
        <section id="dashboard" class="content">
            <h1>Dashboard</h1>
                <!--STATISTICS-->
                <div class="statistics">
                    <h2>Dashboard Overview</h2>
                    <div class="statistics-overview">
                        <!--total student registered-->
                        <div class="statistics-card">
                            <div class="statistics-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="statistics-info">
                                <h2 id="totalStudents">0</h2>
                                <p>Total Registered Students</p>
                            </div>
                        </div>

                        <!--pending verification-->
                        <div class="statistics-card">
                            <div class="statistics-icon warning">
                                <i class="fas fa-user-clock"></i>
                            </div>
                            <div class="statistics-info">
                                <h3 id="pendingStudents">0</h3>
                            <p>Pending Verifications</p>
                        </div>
                        </div>

                        <!--verified students-->
                        <div class="statistics-card">
                            <div class="statistics-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="statistics-info">
                                <h2 id="veridiedStudents">0</h2>
                                <p>Verified Students</p>
                            </div>
                        </div>

                        <!--total student registered-->
                        <div class="statistics-card">
                            <div class="statistics-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="statistics-info">
                                <h2 id="totalEvents">0</h2>
                                <p>Total Events</p>
                            </div>
                        </div>

                        <!--total student registered-->
                        <div class="statistics-card">
                            <div class="statistics-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="statistics-info">
                                <h2 id="totalAttendance">0</h2>
                                <p>Total Attendance Record</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!--CHART DATA-->
                <div class="charts-container">
                    <div class="chart-box">
                        <h3>Event Attendance Trends</h3>
                        <canvas id="attendanceChart" style="height: 300px;"></canvas>
                    </div>
                    <div class="chart-box">
                        <h3>Student Verification Status</h3>
                        <canvas id="verificationChart" ></canvas>
                    </div>
                </div>
        </section>

        <!-- User Management -->
        <section id="user" class="content">
            <div class="header-title">
                <h1>User Management</h1>
                <button class="ExportButton" onclick="ExportUserInfo()">Export User</button>
            </div>
            <div class="header-navigation">
                <ul class="user-nav">
                    <li><a href="#allUser" onclick="loadUser('allUser', this)">All User</a></li>
                    <li><a href="#pending" onclick="loadUser('pending', this)">Pending</a></li>
                    <li><a href="#verified" onclick="loadUser('verified', this)">Verified</a></li>
                    <li><a href="#admin" onclick="loadUser('admin', this)">Admin</a></li>
                </ul>
            </div>
            <div class="search-Bar">
                <input type="search" name="Search" id="search" placeholder="Search User">
            </div>
            <div class="table-container">
                <!-- User Table Data -->
                <section class="data-container" id="allUser">
                    <h1>All User</h1>
                    <table>
                        <thead class="data-table">
                            <tr>
                                <th>Profile</th>
                                <th>Student ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>

                        <tbody id="usersTableBody">
                            <!-- JS will inject rows here -->
                        </tbody>
                    </table>
                </section>
                
                <!-- User Pending -->
                <section class="data-container" id="pending">
                    <table>
                        <h1>Pending</h1>
                        <thead class="data-table">
                            <tr>
                                <th>Profile</th>
                                <th>Student ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody class="allUserData" id="pendingUsers">
                            <!-- data shows here -->
                        </tbody>
                    </table>
                </section>
                
                <!-- Verified -->
                <section class="data-container" id="verified">
                    <h1>Verified</h1>
                    <table>
                        <thead class="data-table">
                            <tr>
                                <th>Profile</th>
                                <th>Student ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody class="allUsersData" id="verifiedUsers">
                            <!-- data shows here -->
                        </tbody>
                    </table>
                </section>
                
                <!-- Admin -->
                <section class="data-container" id="admin">
                    <h1>Admin</h1>
                    <table>
                        <thead class="data-table">
                            <tr>
                                <th>Profile</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Position</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody class="allUsersData" id="adminUsers">
                            <!-- data shows here -->
                        </tbody>
                    </table>
                </section>
            </div>
        </section>

        <!-- Event Management -->
        <section id="events" class="content">
            <!-- event header -->
            <div class="header">
                <h1>Event Dashboard</h1>
                <button id="open-button">Create Event</button>
            </div>       
            
            <!-- Create event modals -->
            <div class="event-container">
                <div class="header">
                    <h1>Create Event</h1>
                    <i class="fas fa-close" id="close-container"></i>
                </div>
                    <div class="form-wrapper">
                        <label for="eventName">Event Name</label>
                        <input type="text" class="event-placeholder" id="event-name" placeholder="Event Name">
                    </div>
                    <div class="form-wrapper">
                        <label for="eventDescription">Description</label>
                        <textarea type="" class="event-description" id="event-name" placeholder="description"></textarea>
                    </div>
                    <div class="form-wrapper">
                        <label for="eventDate">Date</label>
                        <input type="date" class="event-placeholder" id="event-date">
                    </div>
                <div class="timeframe">
                    <div class="time-wrapper">
                        <label for="startTime">Start</label>
                        <input type="time" class="event-placeholder-time" id="event-start">
                    </div>
                    <div class="time-wrapper">
                        <label for="endTime">End</label>
                        <input type="time" class="event-placeholder-time" id="event-end">
                    </div>
                </div>

                <button type="submit">
                    <i class="fas fa-plus"></i>
                    <p>Create</p>
                </button>
            </div>

            <!-- view event modal -->
            <div class="view-event-container">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <h2>Event Details</h2>

                    <div class="view-event-details">
                        <div class="event-poster">
                            <img src="asset/img/Seminar.jpg" alt="">
                        </div>
                        <div class="event-details">
                            <h3><strong>Title:</strong> Orientation Day</h3>
                            <hr>
                            <p><strong>Description:</strong></p>
                            <p><strong>Start Date:</strong></p>
                            <p><strong>End Date:</strong></p>
                            <p><strong>Status:</strong></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Delete Event Modals -->
            <div class="delete-event-overlay">
                <div class="delete-modal-box">
                    ...
                </div>
            </div>
            
            <!-- edit events -->
            <div class="edit-event-overlay">
                <div class="edit-modal-box">
                    <!-- header -->
                    <div class="header">
                        <h1>Edit Event</h1>
                        <i class="fas fa-close" id="close-container"></i>
                    </div>

                    <div class="edit-content-container">
                        <!-- photo -->
                        <div class="edit-photo">
                            <img src="asset/img/Seminar.jpg" alt="edit-poster" id="edit-event-poster">
                            <input type="file" id="edit-poster-input" accept="image/*" hidden>
                        </div>

                        <!-- form -->
                        <div class="edit-form">
                            <div class="form-wrapper">
                                <label for="eventName">Event Name</label>
                                <input type="text" class="event-placeholder" id="edit-event-name">
                            </div>
                            <div class="form-wrapper">
                                <label for="eventDescription">Description</label>
                                <textarea type="textarea" class="event-description" id="edit-event-description"></textarea>
                            </div>
                            <div class="form-wrapper">
                                <label for="eventDate">Place</label>
                                <input type="text" class="event-placeholder" id="edit-event-place">
                            </div>
                            <div class="form-wrapper">
                                <label for="eventDate">Date</label>
                                <input type="date" class="event-placeholder" id="edit-event-date">
                            </div>

                            <div class="edit-timeframe">
                                <div class="time-wrapper">
                                    <label for="startTime">Start</label>
                                    <input type="time" class="event-placeholder-time" id="edit-event-start">
                                </div>
                                <div class="time-wrapper">
                                    <label for="endTime">End</label>
                                    <input type="time" class="event-placeholder-time" id="edit-event-end">
                                </div>
                            </div>

                            <div class="edit-actions">
                                <button class="cancel-btn event-placeholder-time" onclick="closeEdit()">Cancel</button>
                                <button class="save-btn" onclick="saveEdit()">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- event list -->
            <div class="event-list">
                <h1>List Of Events</h1>
                <div class="event-list-header">
                    <p>Event Profile</p>
                    <p>Event Name</p>
                    <p>date</p>
                    <p>Start</p>
                    <p>End</p>
                    <p>Status</p>
                    <p>Actions</p>
                </div>
                <div class="event-list-content">
                    <!-- JS will do the work -->
                </div>
            </div>
        </section>  

        <!-- Attendance Management -->
        <section id="attendance" class="content">
            <h1>Attendance</h1>

            <div class="event-card-container">
                <div class="event-card">
                    <img src="" alt="event image">
                    <div class="action-container">
                        <h1>Event Name</h1>
                        <p>Event Description</p>
                        <button onclick="viewAttendance()">View Attendance</button>
                    </div>
                </div>
            </div>
            
            <div class="event-attendance-overlay">
                <div class="event-attendance-container">
                    <div class="header">
                        <h1>Event Name</h1>
                        <div class="button-container">
                            <i class="fas fa-close" id="closeAttendance"></i>
                            <div>
                                <button id="startBtn">Start</button>
                                <button id="stopBtn">Stop</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="main-content">
                        <div class="qr-code-scanner-container">
                            <h3>QR Scanner</h3>
                            <div id="reader" style="height: 300px;"></div>
                        </div>
                        
                        <div class="attendance-table-container">
                            <div class="header">
                                <p>Student ID No.</p>
                                <p>Name</p>
                                <p>Time-In</p>
                                <p>Time-Out</p>
                                <p>Status</p>
                                <p>Actions</p>
                            </div>
                            <div class="logs"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="reports" class="content">
            <!-- header -->    
            <div class="header">
                <h1>Reports</h1>
                <input type="text" name="search" id="search-reports" />
            </div>

            <!-- event report list -->
            <div class="report-list-container">
                <!-- report list content -->
                <div class="report-content">
                    <img src="asset/img/Seminar.jpg" alt="Event Title">
                    <h1>Event Title</h1>
                    <div class="report-actions">
                        <button class="view-reports">View Reports</button>
                    </div>
                </div>
            </div>
            
            <!-- view report container -->
            <div class="view-report-overlay">
                <div class="view-report-content">
                    <div class="report-header">
                        <h1>title</h1>
                        <div>
                            <button id="export-csv">CSV EXPORT</button>
                            <button id="export-pdf">PDF EXPORT</button>
                            <i class="fas fa-close" onclick="closeReportOverlay()"></i>
                        </div>
                    </div>
                    <input type="text" id="search-final-reports">
                    <div class="attendance-log-container">
                        <div class="header">
                            <p>Student ID No.</p>
                            <p>Name</p>
                            <p>Time-In</p>
                            <p>Time-Out</p>
                            <p>Status</p>
                            <p>Actions</p>
                        </div>
                        <div class="logs"></div>
                    </div>
                </div>
            </div>
        </section>
        
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script> <!-- Qr JS -->
<script src="https://unpkg.com/html5-qrcode"></script> <!-- Qr Code  -->

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Chart Loader JS -->
<script src="asset/js/admin.js"></script> <!-- Admin functions-->
<script src="asset/js/Chart.js"></script> <!-- Chart functions -->

<!-- jsPDF and AutoTable -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
</html>